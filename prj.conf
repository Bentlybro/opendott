# OpenDOTT Firmware Configuration

# ========== Core ==========
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_HEAP_MEM_POOL_SIZE=16384

# ========== Logging ==========
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_MODE_DEFERRED=y

# ========== GPIO ==========
CONFIG_GPIO=y

# ========== SPI (Display) ==========
CONFIG_SPI=y
CONFIG_SPI_NRFX=y

# ========== Display ==========
CONFIG_DISPLAY=y
CONFIG_GC9X01X=y
CONFIG_DISPLAY_LOG_LEVEL_DBG=y

# ========== External Flash (QSPI) ==========
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_SPI_NOR=y
CONFIG_SPI_NOR_FLASH_LAYOUT_PAGE_SIZE=4096

# ========== File System ==========
CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_LITTLEFS=y
CONFIG_FS_LITTLEFS_FC_HEAP_SIZE=4096

# ========== Bluetooth ==========
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="OpenDOTT"
CONFIG_BT_DEVICE_APPEARANCE=833
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1

# BT GATT
CONFIG_BT_GATT_DYNAMIC_DB=y
CONFIG_BT_ATT_PREPARE_COUNT=5

# BLE Data Length Extension (for faster transfers)
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251
CONFIG_BT_BUF_ACL_RX_SIZE=251
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_L2CAP_TX_MTU=247

# ========== USB ==========
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_PRODUCT="OpenDOTT"
CONFIG_USB_DEVICE_MANUFACTURER="OpenDOTT Project"
CONFIG_USB_CDC_ACM=y
CONFIG_UART_LINE_CTRL=y

# ========== PWM (Display Backlight) ==========
CONFIG_PWM=y
CONFIG_PWM_NRFX=y

# ========== Power Management ==========
CONFIG_PM=y
CONFIG_PM_DEVICE=y

# ========== Settings (Persistent Storage) ==========
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y
CONFIG_NVS=y

# ========== Shell (Debug) ==========
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_LOG_BACKEND=y

# ========== Image Handling ==========
# We'll implement our own GIF decoder or use a library
CONFIG_REQUIRES_FULL_LIBC=y
